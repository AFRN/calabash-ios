## 0.10.0 changelog

### before 0.10.0 release

in order of priority 

***Required***

- [ ] Some Xcode 6b6 testing to get a definitive understanding of what works and what doesn't.

### Possible Breaking Changes

The minitest gem version 5.4 was recently released and it changed its base class from `Minitest::Test` to `MiniTest::Unit::TestCase`.[1]  This change is incompatible with the way calabash provided access to the `Test::Unit::Assertions` API.  We have decided not to include `Test::Unit::Assertions` in calabash because nothing in calabash depends on them.  Users who want access to assertions in their tests should follow the instructions on the minitest homepage.[2]  More details can be found in the pull-request for this change.[3]

Thanks to @crishoj for helping test the 'minitest' fixes [pull 395](https://github.com/calabash/calabash-ios/pull/395).

- [1] http://stackoverflow.com/questions/24209097
- [2] https://github.com/seattlerb/minitest
- [3] https://github.com/calabash/calabash-ios/pull/483

### Features

#### Experimental dylib Support

Currently Calabash iOS requires statically linking in the `calabash.framework`. Static linking requires a re-build of the project and typically involves maintaining a separate target.   This release provides experimental support for dynamically loading the Calabash server at runtime.  Dynamic linking has many benefits.

1. Any .app or .ipa can load the Calabash server at runtime; there is no need to link the calabash.framework to the test target.
2. The Calabash server and client and server are never out of sync.
3. Using Calabash requires no setup or changes to Xcode, Xamarin Studio, or Visual Studio projects.

This is a link to a demonstration video:  http://www.screencast.com/t/YDN15tZ8El

We want to stress that this feature is _experimental_.  We are in the early phases of testing.  There might be significant stability issues that force us to drop this approach.

We hope that you'll give this a try.  We recommend testing against a simulator first; on-device testing has known issues.  Start with a "vanilla" app-bundle that is *not* linked with the calabash.framework.

```
# From the Console
$ calabash-ios console
> start_test_server_in_background({:inject_dylib => true})

# 01_launch.rb - Before launch hook
Before do |scenario|
  calabash_launcher = Calabash::Cucumber::Launcher.new
  calabash_launcher.relaunch({:inject_dylib => true})
  calabash_launcher.calabash_notify(self)
end
```

#### Calabash Plugin for Frank

This release provides alpha-level support for running Calabash iOS as a plugin-to Frank.  Frank users can now take advantage of Calabash features of the Calabash iOS API and features like:

* the Calabash query syntax,
* interacting with UIWebViews, and
* on-device testing.

To see the plugin in action, check out this screencast: http://screencast.com/t/hBtcdwzelfO

Detailed instruction on how to integrate calabash and frank can be found in the README_FRANK.md document.

- [1] http://developer.xamarin.com/guides/testcloud/calabash/calabash-query-syntax/
- [2] http://developer.xamarin.com/guides/testcloud/calabash/calabash-query-syntax/#DOM_WebView Support
- [3] https://github.com/calabash/calabash-ios/wiki/07-Testing-on-physical-iDevices

#### yard

The public API has been 100% documented.  [1]

See README_YARD.md [2] for details about how to document and how to generate docs locally.

Thank you @joelmartinez!

- [1] http://calabashapi.xamarin.com/ios/
- [2] README_YARD.md http://git.io/UzumZA

#### travis-ci

The rspec, unit tests, and cucumbers are now running in travis-ci. [1]

- [1] https://travis-ci.org/calabash/calabash-ios

### Changes

#### Validate and log UIAChannel communication

A stability improvement which logs UIA actions via the UIAChannel in Calabash server. Should be transparent to most users.

### Fixes

#### Improved Visibility Heuristic

Fixes visibility in cases where a transparent view completely overlaps a non-control (e.g. UILabel).  Previously, calabash would consider this view invisible. See: https://github.com/calabash/calabash-ios-server/pull/50

#### Resetting App and Simulator Content & Settings

Fixed a bug in `reset_app_jail`; only the sandbox of the most recent SDK was reset.

* In addition, `reset_app_jail` has been deprecated.  It has been replaced by `reset_app_sandbox`.
* Added `Calabash::Cucumber::Launcher.reset_simulator` for simulating touching the iOS Simulator > Reset Simulator Content and Settings... Menu Item.

Thanks to @nemesis for reporting [issue 376](https://github.com/calabash/calabash-ios/issues/376).

#### Other

- [commit 4d95fc0](https://github.com/calabash/calabash-ios/commit/4d95fc04e34e534d4b745a202514679067d8cc0f) bad edn dependency
- [pull 419](https://github.com/calabash/calabash-ios/pull/419) Readme: Link to Guide for Setup with Custom Build Configuration; thanks @fabb
- [pull 428](https://github.com/calabash/calabash-ios/pull/428) Then I touch right and down from "..."; thanks @crishoj
- [pull 441](https://github.com/calabash/calabash-ios/pull/441) README.md should show the CI/License badges; thanks @staxmanade
- [pull 384](https://github.com/calabash/calabash-ios/pull/384) - call to `strings` in gem/server compatibility should work on paths with spaces; thanks @Sqeaky


### Special Thanks

* everyone who waited patiently for the ruby-zip update

### Deprecated

See https://github.com/calabash/calabash-ios/wiki/Deprecated

##### NEW

* since 0.10.0 `Calabash::Cucumber::Device.udid` - no replacement
* since 0.10.0 `tap` - replaced with `tap_mark`
* since 0.10.0 in `Calabash::Cucumber::Launcher` `reset_app_jail` has been replaced with `reset_app_sandbox`. This method has been deprecated, but does not issue a warning.
* since 0.10.0 `done` - replaced with `tap_keyboard_action_key`. This method has been deprecated, but does not issue a warning.
* since 0.10.0 `xcode_bin_dir` - not replaced.

### Other

#### rspec testing for testing Calabash iOS gem

```
$ be rake spec
```
